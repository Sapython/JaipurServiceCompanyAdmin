<div
  class="wrapper"
  id="availableAgentsModal"
  role="dialog"
  aria-labelledby="availableAgentsModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header flex-between">
        <div class="header-title">
          <span class="modal-title" id="availableAgentsModalLabel">
            Available Agents
          </span>
          <div class="circle greenCir mx-2">{{getAgentCount('P')}}</div>
          <div class="circle redCir">{{getAgentCount('A')}}</div>
          <div class="circle neutralCir mx-2">{{getAgentCount('NA')}}</div>
        </div>
        <div class="header-btn" (click)="dialogRef.close()">
          <span>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="36"
              height="36"
              viewBox="0 0 36 36"
              fill="none"
              data-dismiss="modal"
              aria-label="Close"
            >
              <path
                d="M18.001 15.8797L25.4256 8.45508L27.5469 10.5764L20.1223 18.001L27.5469 25.4256L25.4256 27.5469L18.001 20.1223L10.5764 27.5469L8.45508 25.4256L15.8797 18.001L8.45508 10.5764L10.5764 8.45508L18.001 15.8797Z"
                fill="#E82C2C"
              />
            </svg>
          </span>
        </div>
      </div>

      <div class="modal-body">
        <div class="searchBox">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            class="mx-2"
            viewBox="0 0 24 24"
            fill="none"
          >
            <path
              d="M18.2849 16.6939L23.1029 21.5119L21.5119 23.1029L16.6939 18.2849C14.9615 19.6709 12.7645 20.5 10.375 20.5C4.786 20.5 0.25 15.964 0.25 10.375C0.25 4.786 4.786 0.25 10.375 0.25C15.964 0.25 20.5 4.786 20.5 10.375C20.5 12.7645 19.6709 14.9615 18.2849 16.6939ZM16.0278 15.8591C17.4034 14.4414 18.25 12.5075 18.25 10.375C18.25 6.02406 14.7259 2.5 10.375 2.5C6.02406 2.5 2.5 6.02406 2.5 10.375C2.5 14.7259 6.02406 18.25 10.375 18.25C12.5075 18.25 14.4414 17.4034 15.8591 16.0278L16.0278 15.8591Z"
              fill="#BCBCBC"
            />
          </svg>
          <input type="text" placeholder="Search Agent" (keyup)="searchAgents($event)" />
        </div>

        <div class="agents-body">
          <div *ngFor="let agent of filteredAgents" class="agent-body">
            <div class="flex-between">
              <div class="agent-title">
                <div
                  [ngStyle]="{
                    'background-color': agent.color,
                    color: 'white'
                  }"
                  class="circle mx-2"
                >
                  {{ agent.status }}
                </div>
                <span class="agent-name">{{ agent.name }}</span>
              </div>
              <div class="agent-contact">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 16 16"
                  fill="none"
                >
                  <path
                    d="M16 11.9289V15.0721C16 15.5388 15.6392 15.926 15.1738 15.9588C14.785 15.9863 14.4678 16 14.2222 16C6.36747 16 0 9.63253 0 1.77778C0 1.53219 0.0137333 1.215 0.0412 0.826222C0.0741067 0.360782 0.46128 0 0.927876 0H4.0712C4.29936 0 4.49045 0.172818 4.51336 0.399822C4.53393 0.603618 4.55305 0.767236 4.57073 0.890684C4.75053 2.14642 5.1178 3.34165 5.64329 4.44714C5.72764 4.62458 5.67263 4.83697 5.51276 4.95116L3.59427 6.3216C4.76224 9.04987 6.95013 11.2378 9.6784 12.4058L11.0463 10.4906C11.162 10.3288 11.3769 10.2732 11.5564 10.3584C12.6619 10.8835 13.857 11.2503 15.1125 11.4297C15.2352 11.4473 15.3978 11.4662 15.6002 11.4867C15.8272 11.5096 16 11.7007 16 11.9289Z"
                    fill="#14AE5C"
                  />
                </svg>
                <span class="mx-2">{{ agent.contactNumber }}</span>
              </div>
              <button
                [ngStyle]="{
                  'background-color':
                    agent.status == 'P' ? '#145889' : '#BCBCBC',
                  cursor: agent.status == 'P' ? 'pointer' : 'not-allowed',
                  color: 'white'
                }"
                type="button"
                class="cta"
                [disabled]="agent.status != 'P'"
                (click)="allotBooking(agent.id)"
              >
                Allot Booking
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
